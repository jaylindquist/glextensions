#summary GL_ATI_envmap_bumpmap

== Contents ==

  * [GL_ATI_envmap_bumpmap#Dependencies Dependencies]
  * [GL_ATI_envmap_bumpmap#Overview Overview]
  * [GL_ATI_envmap_bumpmap#New_Procedures_and_Functions New Procedures and Functions]
  * [GL_ATI_envmap_bumpmap#New_Tokens New Tokens]
  * [GL_ATI_envmap_bumpmap#Errors Errors]
  * [GL_ATI_envmap_bumpmap#New_State New State]
  * [GL_ATI_envmap_bumpmap#New_Implementation_Dependent_State New Implementation Dependent State]

== Dependencies ==

[GL_EXT_texture_env_combine] is required by this extension.

[GL_ARB_multitexture] is required by this extension.


== Overview ==

This extension adds environment mapped bump mapping (EMBM) to the GL.
The method exposed by this extension is to use a dependent texture
read on a bumpmap (du,dv) texture to offset the texture coordinates
read into a map on another texture unit.  This (du,dv) offset is also
rotated through a user-specified rotation matrix to get the texture
coordinates into the appropriate space.

A new texture format is introduced in order for specifying the (du,dv)
bumpmap texture.  This map represents -1 <= du,dv <= 1 offsets to
be applied to the texture coordinates used to read into the base
map.  Additionally, the (du,dv) offsets are transformed by a rotation
matrix that this extension allows the user to specify.  Further, a
new color operation is added to EXT_texture_env_combine to specify
both that bumpmapping is enabled and which texture unit to apply
the bump offset to.


== New Procedures and Functions ==
{{{
void TexBumpParameter[i|f]vATI(enum pname, TYPE *param)

void GetTexBumpParameter[i|f]vATI(enum pname, TYPE *param)
}}}

== New Tokens ==

Accepted by the <pname> parameter of !TexBumpParameter`[`i|f`]`vATI

||BUMP_ROT_MATRIX_ATI            ||0x8775||

Accepted by the <pname> parameter of !GetTexBumpParameter`[`i|f`]`vATI

||BUMP_ROT_MATRIX_ATI|| ||
||BUMP_ROT_MATRIX_SIZE_ATI  ||     0x8776||
||BUMP_NUM_TEX_UNITS_ATI    ||     0x8777||
||BUMP_TEX_UNITS_ATI        ||     0x8778||

Accepted by the <format> parameter of !GetTexImage and TexImage2D

||DUDV_ATI                 ||      0x8779||
||DU8DV8_ATI               ||      0x877A||

Accepted by the <components> parameter of TexImage2D

||DUDV_ATI||
||DU8DV8_ATI||

Accepted by the <params> parameter of !TexEnvf, !TexEnvi, !TexEnvfv,
and !TexEnviv when the <pname> parameter value is COMBINE_RGB_EXT

||BUMP_ENVMAP_ATI        ||        0x877B||

Accepted by the <pname> parameter of !TexEnvf, !TexEnvi, !TexEnvfv,
and !TexEnviv when the <target> parameter value is TEXTURE_ENV

||BUMP_TARGET_ATI            ||    0x877C||

Accepted by the <params> parameter of !TexEnvf, !TexEnvi, !TexEnvfv,
and !TexEnviv when the <pname> parameter value is BUMP_TARGET_ATI

||TEXTURE0_ARB||
||TEXTURE1_ARB||
||TEXTURE2_ARB||
||TEXTURE3_ARB||
||TEXTURE4_ARB||
||TEXTURE5_ARB||
||TEXTURE6_ARB||
||TEXTURE7_ARB||
||TEXTURE8_ARB||
||TEXTURE9_ARB||
||TEXTURE10_ARB||
||TEXTURE11_ARB||
||TEXTURE12_ARB||
||TEXTURE13_ARB||
||TEXTURE14_ARB||
||TEXTURE15_ARB||
||TEXTURE16_ARB||
||TEXTURE17_ARB||
||TEXTURE18_ARB||
||TEXTURE19_ARB||
||TEXTURE20_ARB||
||TEXTURE21_ARB||
||TEXTURE22_ARB||
||TEXTURE23_ARB||
||TEXTURE24_ARB||
||TEXTURE25_ARB||
||TEXTURE26_ARB||
||TEXTURE27_ARB||
||TEXTURE28_ARB||
||TEXTURE29_ARB||
||TEXTURE30_ARB||
||TEXTURE31_ARB||


== Errors ==

INVALID_ENUM if !TexBumpParameter`[`i|f`]`vATI is called with pname not equal to
BUMP_ROT_MATRIX_ATI.

INVALID_ENUM if !GetTexBumpParameter`[`i|f`]`vATI is called with pname not equal
to BUMP_ROT_MATRIX_ATI, BUMP_ROT_MATRIX_SIZE_ATI, BUMP_NUM_TEX_UNITS_ATI,
or BUMP_TEX_UNITS_ATI.

INVALID_VALUE if the combineRGB function is set on a unit not supported as
queried with BUMP_TEX_UNITS_ATI.


== New State ==

|| *Get Value* || *Get Command* || *Type* || *Minimum Value* || *Description* ||
||BUMP_ROT_MATRIX_ATI       ||  !GetTexBumpParameterfv ||n x F ||   -||Bump rotation matrix on current unit||
||BUMP_ROT_MATRIX_SIZE_ATI  ||  !GetTexBumpParameteriv ||Z+    ||   4||Bump rotation matrix size||
||BUMP_NUM_TEX_UNITS_ATI    ||  !GetTexBumpParameteriv ||Z+    ||   1||Number of bump texture units||
||BUMP_TEX_UNITS_ATI        ||  !GetTexBumpParameteriv ||n x Z+ ||  - || Supported bump texture units||



== New Implementation Dependent State ==

None
